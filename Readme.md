#  PINN

 스트릿 뷰를 보고 팀원들과 이 장소가 어디인지 맞추는 게임입니다. 팀원들과 같이할 때 팀원들이 어디를 추측하고 있는지 마우스 위치 공유를 통해서 알 수 있고 먼저 예측한 장소를 제출할 경우 다른 팀들의 플레이를 관찰할 수 있습니다.
  문제는 한국, 그리스, 이집트, 랜드마크, 랜덤 중의 방장이 고른 테마로 출제됩니다.

## 목차

- [개발 기간](#개발-기간)
- [팀원](#팀원)
- [기술 스택](#기술-스택)
- [서비스 화면 예시](#서비스-화면-예시)
- [아키텍처 다이어그램](#아키텍처-다이어그램)
- [ERD](#erd)
- [디렉토리 구조](#디렉토리-구조)

## 개발 기간

2024.05.01 ~ 2024.05.21 (6주)

## 팀원

<table>
  <tr>
         <td align="center" width="16%">
            <a href="https://github.com/neongseoman"><img width="75%" src="https://avatars.githubusercontent.com/u/47319362?v=4"/></a>
            <br />
            <a href="https://github.com/neongseoman">박근수</a>
        </td>
        <td align="center" width="16%">
            <a href="https://github.com/#"><img width="75%" src="#"/></a>
            <br />
            <a href="https://github.com/#">김다인</a>
        </td>
        <td align="center" width="16%">
            <a href="https://github.com/#"><img width="75%" src="#"/></a>
            <br />
            <a href="https://github.com/#">김신영</a>
        </td>
        <td align="center" width="16%">
            <a href="https://github.com/#"><img width="75%" src="#"/></a>
            <br />
            <a href="https://github.com/#">김지용</a>
        </td>
        <td align="center" width="16%">
            <a href="https://github.com/#"><img width="75%" src="#"/></a>
            <br />
            <a href="https://github.com/#">손지은</a>
        </td>
        <td align="center" width="16%">
            <a href="https://github.com/#"><img width="75%" src="#"/></a>
            <br />
            <a href="https://github.com/#">진창현</a>
        </td>
      <tr>
        <td align="center">    
          <div><b>팀장, 백엔드</b></div>
          <div>비동기 스케줄링</div>
          <div>OAuth 로그인</div>
        </td>
        </td>
        <td align="center">
            <div><b>백엔드, 인프라</b></div>
            <div>ㅁㄴㅇㄹ</div>
            <div>ㅁㄴㅇㄹ</div>
        </td>
        <td align="center">
            <div><b>백엔드, 인프라</b></div>
            <div>ㅁㄴㅇㄹ</div>
            <div>ㅁㄴㅇㄹ</div>
        </td>
        <td align="center">
            <div><b>프론트엔드</b></div>
          <div>ㅁㄴㅇㄹ</div>
        </td>
        <td align="center">
            <div><b>프론트엔드</b></div>
          <div>ㅁㄴㅇㄹ</div>
          <div>ㅁㄴㅇㄹ</div>
        </td>
        <td align="center">
          <div><b>프론트엔드</b></div>
          <div>ㅁㄴㅇㄹ</div>
        </td>
      </tr>
  </tr>
</table>

## 기술 스택

### Front-end

<div>
<img src ="https://img.shields.io/badge/next.js-000000.svg?&style=for-the-badge&logo=nextdotjs&logoColor=white"/>
<img src ="https://img.shields.io/badge/typescript-3178C6.svg?&style=for-the-badge&logo=typescript&logoColor=white"/>
<img src ="https://img.shields.io/badge/yarn-2C8EBB.svg?&style=for-the-badge&logo=yarn&logoColor=white"/>
<img src="https://img.shields.io/badge/node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white">

</div>

### Back-end

<div>
<img src="https://img.shields.io/badge/java-e11f21?style=for-the-badge&logo=java&logoColor=white">
<img src="https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=Gradle&logoColor=white"/>
<img src="https://img.shields.io/badge/spring boot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white">
<img src="https://img.shields.io/badge/spring security-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white">
<img src="https://img.shields.io/badge/Spring Data JPA-6DB33F?style=for-the-badge&logo=jpa&logoColor=white"/>
<img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=JSON%20web%20tokens&logoColor=white"/>
</div>

### Infra

<div>
<img src="https://img.shields.io/badge/amazonec2-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white">
<img src="https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white">
<img src="https://img.shields.io/badge/jenkins-D24939?style=for-the-badge&logo=jenkins&logoColor=white">
<img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white">
<img src="https://img.shields.io/badge/mariadb-003545?style=for-the-badge&logo=mariadb&logoColor=white">
<img src="https://img.shields.io/badge/redis-DC382D?style=for-the-badge&logo=redis&logoColor=white">
</div>

### 협업Tools

<div>
<img src="https://img.shields.io/badge/gitlab-FC6D26?style=for-the-badge&logo=gitlab&logoColor=white">
<img src="https://img.shields.io/badge/mattermost-0058CC?style=for-the-badge&logo=mattermost&logoColor=white">
<img src="https://img.shields.io/badge/jira-0052CC?style=for-the-badge&logo=jira&logoColor=white">
<img src="https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white">
<img src="https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">

</div>

<br />

## 서비스 화면 예시

프로젝트의 주요 화면을 이미지로 첨부하고 각 화면에 대한 설명을 추가합니다.

### 메인 화면

![Main Screen](path/to/main_screen.png)

**설명:**
메인 화면에서는 사용자가 서비스의 주요 기능에 접근할 수 있습니다. 상단 메뉴에서 다양한 섹션으로 이동할 수 있으며, 하단에는 최근 업데이트 내용이 표시됩니다.

**주요 기능:**

- 최신 뉴스 및 업데이트 보기
- 주요 메뉴로의 빠른 접근
- 사용자 맞춤형 콘텐츠 표시

**사용 예시:**

- 사용자는 로그인 후 메인 화면에서 최신 뉴스와 개인화된 추천 콘텐츠를 확인합니다.

### 사용자 프로필

![User Profile](path/to/user_profile.png)

**설명:**
사용자 프로필 화면에서는 사용자의 개인 정보와 활동 내역을 확인할 수 있습니다. 프로필 사진, 이름, 이메일 등이 표시되며, 사용자가 작성한 글이나 댓글도 함께 볼 수 있습니다.

**주요 기능:**

- 개인 정보 확인 및 수정
- 활동 내역 조회
- 프로필 사진 변경

**사용 예시:**

- 사용자는 프로필 화면에서 자신의 최근 활동을 검토하고, 필요 시 개인정보를 업데이트합니다.

### 설정 화면

![Settings](path/to/settings.png)

**설명:**
설정 화면에서는 사용자가 서비스의 다양한 설정을 변경할 수 있습니다. 알림 설정, 개인정보 보호 설정, 계정 관리 등이 포함됩니다.

**주요 기능:**

- 알림 설정 조정
- 개인정보 보호 옵션 설정
- 계정 정보 관리

**사용 예시:**

- 사용자는 설정 화면에서 알림 빈도를 조절하고, 개인정보 보호 수준을 설정합니다.

## 아키텍처 다이어그램
![아키텍처 다이어그램](exec/PINN Archetecture 2.drawio.png)

## ERD

![image.png](readme/ERD.png)

<details>
<summary>DDL</summary>
<div markdown="1">

``` SQL
CREATE TABLE `gamer` (
	`gamer_id`	int	NOT NULL	DEFAULT auto_increment,
	`nickname`	varchar(20)	NULL,
	`email`	varchar(100)	NULL,
	`is_deleted`	tinyint(1)	NULL,
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL,
	`image_url`	varchar(256)	NULL,
	`oauth_provider`	varchar(20)	NULL,
	`provider_id`	VARCHAR(255)	NULL	COMMENT 'OAuth 제공자가 주는 ID'
);

CREATE TABLE `game` (
	`game_id`	int	NOT NULL	DEFAULT AUTO_INCREMENT,
	`theme_id`	int	NOT NULL	DEFAULT AUTO_INCREMENT,
	`leader_id`	int	NOT NULL	DEFAULT auto_increment,
	`room_name`	varchar(20)	NULL,
	`round_count`	tinyint	NULL	COMMENT '게임 내 실행될 라운드 개수',
	`stage1_time`	int	NULL	COMMENT '스테이지1 길이(단위: 초) 게임 세팅값',
	`stage2_time`	int	NULL	COMMENT '스테이지2 길이(단위: 초) 게임 세팅값',
	`room_create_time`	timestamp	NULL,
	`started_time`	timestamp	NULL	COMMENT '게임 시작 시간',
	`finished_time`	timestamp	NULL	COMMENT '=게임 종료 시간',
	`has_password`	tinyint(1)	NULL	COMMENT '0/1'
);

CREATE TABLE `team` (
	`team_id`	int	NOT NULL	DEFAULT AI,
	`game_id`	int	NOT NULL,
	`color_id`	int	NOT NULL,
	`team_number`	int	NULL	COMMENT '1~10으로 구분됨',
	`is_ready`	tinyint	NULL,
	`last_ready_time`	timestamp	NULL	COMMENT '마지막으로 준비완료 한 시점',
	`final_rank`	tinyint	NULL,
	`final_score`	int	NULL,
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `question` (
	`question_id`	int	NOT NULL,
	`theme_id`	int	NOT NULL	DEFAULT AUTO_INCREMENT	COMMENT '테마 id',
	`question_name`	VARCHAR(255)	NULL,
	`lat`	double	NULL	COMMENT '위도',
	`lng`	double	NULL	COMMENT '경도',
	`use_or_not`	tinyint(1)	NULL	COMMENT '해당 문제가 출제되는지 여부',
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `theme` (
	`theme_id`	int	NOT NULL	DEFAULT AUTO_INCREMENT,
	`theme_name`	varchar(20)	NOT NULL	COMMENT '테마명(global,  )',
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `gamer_log` (
	`gamer_log_id`	bigint	NOT NULL	DEFAULT auto_increment,
	`gamer_id`	int	NOT NULL	DEFAULT auto_increment,
	`game_id`	int	NOT NULL,
	`team_id`	int	NULL,
	`total_rank`	int	NULL,
	`team_color`	varchar(10)	NULL,
	`is_room_leader`	tinyint	NULL,
	`is_team_leader`	tinyint	NULL,
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `team_round` (
	`team_round_id`	bigint	NOT NULL	DEFAULT AI,
	`team_id`	int	NOT NULL	DEFAULT AI,
	`round_number`	tinyint	NULL	COMMENT '1번 라운드, 2번 라운드 등 라운드 번호',
	`round_score`	int	NULL	COMMENT '1라운드 제출 시최대 5000, 2라운드 제출 시 3000',
	`submit_stage`	int	NULL	COMMENT 'Guess한 스테이지',
	`submit_time`	timestamp	NULL,
	`submit_lat`	double	NULL,
	`submit_lng`	double	NULL,
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `hint` (
	`hint_id`	int	NOT NULL	DEFAULT AI,
	`question_id`	int	NOT NULL,
	`hint_type_id`	int	NOT NULL,
	`hint_value`	varchar(100)	NULL,
	`offer_stage`	tinyint(2)	NULL	COMMENT '1/2',
	`use_or_not`	tinyint(1)	NULL	COMMENT '해당 힌트가 제공되는지 여부',
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `team-gamer` (
	`team_gamer_id`	bigint	NOT NULL,
	`team_id`	int	NOT NULL	DEFAULT AI,
	`color_id`	int	NOT NULL,
	`gamer_id`	int	NOT NULL	DEFAULT auto_increment,
	`created_date`	timestamp	NULL
);

CREATE TABLE `game-question` (
	`game_question_id`	int	NOT NULL	DEFAULT AI,
	`game_id`	int	NOT NULL	DEFAULT AUTO_INCREMENT,
	`question_id`	int	NOT NULL,
	`round_number`	tinyint	NULL,
	`created_date`	timestamp	NULL
);

CREATE TABLE `gamer_status` (
	`gamer_id`	int	NOT NULL	DEFAULT auto_increment,
	`play_count`	int	NULL	DEFAULT 0,
	`win_count`	int	NULL	DEFAULT 0
);

CREATE TABLE `hint_type` (
	`hint_type_id`	int	NOT NULL,
	`hint_type_name`	varchar(10)	NULL	COMMENT '연교차, 고도 ...',
	`created_date`	timestamp	NULL,
	`updated_time`	timestamp	NULL
);

CREATE TABLE `nickname_adjective` (
	`nickname_adjective_id`	VARCHAR(255)	NOT NULL,
	`adjective`	varchar(10)	NULL,
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `nickname_noun` (
	`nickname_noun_id`	VARCHAR(255)	NOT NULL,
	`noun`	VARCHAR(255)	NULL,
	`created_date`	timestamp	NULL,
	`updated_date`	timestamp	NULL
);

CREATE TABLE `color` (
	`color_id`	int	NOT NULL,
	`color_code`	char(25)	NULL
);

ALTER TABLE `gamer` ADD CONSTRAINT `PK_GAMER` PRIMARY KEY (
	`gamer_id`
);

ALTER TABLE `game` ADD CONSTRAINT `PK_GAME` PRIMARY KEY (
	`game_id`
);

ALTER TABLE `team` ADD CONSTRAINT `PK_TEAM` PRIMARY KEY (
	`team_id`
);

ALTER TABLE `question` ADD CONSTRAINT `PK_QUESTION` PRIMARY KEY (
	`question_id`
);

ALTER TABLE `theme` ADD CONSTRAINT `PK_THEME` PRIMARY KEY (
	`theme_id`
);

ALTER TABLE `gamer_log` ADD CONSTRAINT `PK_GAMER_LOG` PRIMARY KEY (
	`gamer_log_id`
);

ALTER TABLE `team_round` ADD CONSTRAINT `PK_TEAM_ROUND` PRIMARY KEY (
	`team_round_id`
);

ALTER TABLE `hint` ADD CONSTRAINT `PK_HINT` PRIMARY KEY (
	`hint_id`
);

ALTER TABLE `team-gamer` ADD CONSTRAINT `PK_TEAM-GAMER` PRIMARY KEY (
	`team_gamer_id`
);

ALTER TABLE `game-question` ADD CONSTRAINT `PK_GAME-QUESTION` PRIMARY KEY (
	`game_question_id`
);

ALTER TABLE `gamer_status` ADD CONSTRAINT `PK_GAMER_STATUS` PRIMARY KEY (
	`gamer_id`
);

ALTER TABLE `hint_type` ADD CONSTRAINT `PK_HINT_TYPE` PRIMARY KEY (
	`hint_type_id`
);

ALTER TABLE `nickname_adjective` ADD CONSTRAINT `PK_NICKNAME_ADJECTIVE` PRIMARY KEY (
	`nickname_adjective_id`
);

ALTER TABLE `nickname_noun` ADD CONSTRAINT `PK_NICKNAME_NOUN` PRIMARY KEY (
	`nickname_noun_id`
);

ALTER TABLE `color` ADD CONSTRAINT `PK_COLOR` PRIMARY KEY (
	`color_id`
);

ALTER TABLE `gamer_status` ADD CONSTRAINT `FK_gamer_TO_gamer_status_1` FOREIGN KEY (
	`gamer_id`
)
REFERENCES `gamer` (
	`gamer_id`
);


```

</div>
</details>

## 디렉토리 구조
